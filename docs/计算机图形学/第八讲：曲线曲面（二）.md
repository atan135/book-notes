## Bezier 曲线生成

####  根据定义直接生成

定义是： $$ p(t) = \sum_{t\to 0}^n P_i B_{i,n}\quad t\in [0,1]$$

而 $$B_{i,n}(t) = \dfrac{n!}{i!(n-i)!}t^i(1-t)^{n-i} = C_n^i t^i (1-t)^{n-i}\quad (i = 0,1,\ldots,n)$$

1. 首先给出 $$C_n^i$$ 的递归计算式

   $$C_n^i = \dfrac{n!}{i!(n-i)!} = \dfrac{n-i+1}{i} C_n^{i-1}\quad n\ge i$$

2. 将 $$p(t) = \sum_{t\to 0}^n P_i B_{i,n}$$ 表示成为分量坐标形式。

   $$\begin{cases} x(t) = \sum_{t\to 0}^n x_i B_{i,n}(t) \\\\ y(t) = \sum_{t\to 0}^n y_i B_{i,n}(t) \\\\ z(t) = \sum_{t\to 0}^n y_i B_{i,n}(t)\end{cases} \qquad t\in[0,1]$$

#### Bezier曲线的递推算法

根据定义直接生成的Bezier算法，因为计算量过大，不适合工程使用。

$$\mathcal{de\ Casteljau}$$ 提出的Bezier曲线递推算法：根据定义，Bezier曲线上任意一点P(t)，等于其他相邻线段的同等比例点 (t) 处的连线，再取新生成连线点的相联系相邻线段的连线，直至最后那条线段的同等比例 (t) 处，该点就是Bezier曲线上的点P(t)。

以二次Bezier曲线为例：

 三个点为$$P_0,\ P_1,\ P_2$$ ，则在t点处的连线起始点以及Bezier曲线上的点分别为：

​	$$P_0^1 = (1-t)P_0 + tP1$$

​	$$P_1^1 = (1-t)P1 + tP_2$$

​	$$P_0^2 = (1-t)P_0^1 + tP_1^1$$

根据以上三式推导得出：

​	$$P_0^2 = (1-t)^2 P_0 + 2t(1-t)P_1 + t^2P_2$$

这就是三个顶点的二次Bezier曲线的生成公式。从上也可以看出递推公式为：

​	$$P_0^n = (1-t)P_0^{n-1} + tP_1^{n-1}$$

总结，递推公式为：

​	$$p_i^k = \begin{cases}P_i\qquad\qquad\qquad\qquad\quad k = 0\\ (1-t)P_i^{k-1} + tP_{i+1}^{k-1}\quad k = 1,2,\ldots,n;i = 0,1,\ldots,n-k\end{cases}$$

 