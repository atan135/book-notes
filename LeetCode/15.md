## 15. 3Sum

**题目：**

![](http://p9zl5r4hu.bkt.clouddn.com/2018-10-22leet_15.png)

**解答：**

先排序，然后通过遍历第一个数，对后两个数，使用有序序列和的查找方法两头逼近即可。注意一些细节可以加速代码运行。

**代码：**

```cpp
class Solution {
public:
    vector<vector<int>> threeSum(vector<int>& nums) {
        sort(nums.begin(),nums.end());
        int len = nums.size();
        vector<vector<int>> result;
        set<string> myset;
        char s[256] = { 0 };
        for(int i = 0;i < len - 2;){
            int begin = i + 1, end = len - 1, target = -1 * nums[i];
            while(begin < end){
                int tmp = nums[begin] + nums[end];
                if(tmp < target){
                    while(begin < len && nums[begin] == nums[begin+1]) ++begin;
                    ++begin;
                }else if(tmp >target){
                    while(end > target && nums[end] == nums[end-1]) --end;
                    --end;
                }else{
                    vector<int> vec;
                    vec.push_back(nums[i]);
                    vec.push_back(nums[begin]);
                    vec.push_back(nums[end]);
                    snprintf(s, 256, "%d,%d,%d", nums[i], nums[begin], nums[end]);
                    if(myset.find(s) == myset.end()){
                        myset.insert(s);
                        result.push_back(vec);
                    }
                    ++begin, --end;
                }
            }
            while(i < len - 2 && nums[i] == nums[i+1]) ++i;
            ++i;
        }
        return result;
    }
};
```

