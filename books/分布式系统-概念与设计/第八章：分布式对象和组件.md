开发基于组件的中间件是为了克服使用分布式对象中间件开发应用中所遇到的一系列限制，包括：

* **隐式依赖：** 对象接口不能描述这个对象的实现需要依赖什么，使得难以对基于对象的系统进行开发和后续的维护。
* **编程复杂性：** 编写分布式对象中间件程序需要掌握很多与中间件实现相关的底层细节。
* **缺少关注点分离支持：** 应用开发者不得不关注安全性、故障处理和并发性等细节，而这些细节在不同应用中是很相似的。
* **无部署支持：** 基于对象的中间件很少提供或不提供对对象配置的部署支持。

## 分布式对象

| 对象     | 分布式对象     | 分布式对象的描述                                             |
| -------- | -------------- | ------------------------------------------------------------ |
| 对象引用 | 远程对象引用   | 分布式对象具有全局唯一的引用，可以作为参数传递               |
| 接口     | 远程接口       | 提供在远程对象上可以调用的方法的抽象规定，使用IDL指定        |
| 动作     | 分布式动作     | 由方法调用初始化，可能形成调用链                             |
| 异常     | 分布式异常     | 由于系统的分布特性，会产生额外的异常，如消息丢失、进程故障   |
| 垃圾回收 | 分布式垃圾回收 | 分布式垃圾回收算法，确保对象在至少有一个本地或者远程引用时必须存在 |

分布式对象中间件需要提供的额外功能包括：

* **生命周期的管理：** 生命周期管理关注对象的创建、迁移和删除，这里每一步都需要处理底层环境的分不行特征。
* **激活与去活：** *激活* 指在分布式环境中使得对象变成活动的过程，即为对象提供必要的资源以使它能够有效处理到达的调用的过程，去活是反过程，使得对象暂时不能处理调用。
* **持久化：** 对象通常具有状态，维护对象在可能的激活与去活周期以及系统故障时的状态是很重要的。因此分布式对象中间件必须为有状态的对象提供持久化支持。
* **其他服务：** 一个完整的分布式对象中间件框架还必须支持分布式系统服务，如名字、安全和事务服务。

## CORBA的体系结构：

![](http://p9zl5r4hu.bkt.clouddn.com/2018-09-29_55CORBA_architecture.png)

**ORB内核：** 包含了通信模块的所有功能。另外，ORB内核还提供一下功能的接口：

* 启动与停止操作
* 远程对象引用和字符串相互转化的操作
* 为使用动态调用的请求提供参数列表的操作

**对象适配器：** 架起了具有IDL接口的CORBA对象与相应编程语言的伺服器类接口之间的桥梁，还包含了远程引用和分发模块。

**骨架：** 由IDL编译器使用服务器端语言生成，远程方法调用通过适当的骨架分发给特定的伺服器。骨架负责对请求消息中的消息解码和应答消息中对结果和异常编码。

**客户代理：** 使用客户端语言生成，负责将调用请求中的参数编码并将应答消息的内容和异常解码。

**实现仓库：** 负责按需激活注册的服务器并定位当前正在运行的服务器。

**接口仓库：** 是为需要它的客户和服务器提供已注册的IDL接口的信息。

## CORBA支持的服务

| CORBA服务 | 作用                                                         |
| --------- | ------------------------------------------------------------ |
| 名字服务  | 支持CORBA命名，尤其是在给定的名字上下文中，将名字映射到远程对象引用 |
| 交易服务  | 通过属性定位对象                                             |
| 事件服务  | 允许感兴趣的对象使用普通的CORBA远程方法将通知发送给订阅者    |
| 通知服务  | 扩展事件服务，允许定义表达感兴趣时间的过滤器，允许定义底层事件通道的可靠性和排序特性 |
| 安全服务  | 支持各种安全机制，包括认证、访问控制、安全通信、审计和防止抵赖 |
| 事务服务  | 支持创建屏幕和嵌套事务                                       |
| 并发控制  | 使用锁来对CORBA对象访问的并发控制                            |
| 持久状态  | 为CORBA提供对象的持久存储，保存并恢复CORBA对象的状态         |
| 生命周期  | 定义创建、删除、拷贝、移动CORBA对象的约定                    |

